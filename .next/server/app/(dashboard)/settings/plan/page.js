(()=>{var e={};e.id=403,e.ids=[403],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},35816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("worker_threads")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},48325:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(20426),s(35866),s(11506);var r=s(23191),n=s(88716),a=s(37922),i=s.n(a),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["(dashboard)",{children:["settings",{children:["plan",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,20426)),"/Users/ediyaffe/Documents/GitHub/Arizu/app/(dashboard)/settings/plan/page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"/Users/ediyaffe/Documents/GitHub/Arizu/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ediyaffe/Documents/GitHub/Arizu/app/(dashboard)/settings/plan/page.tsx"],u="/(dashboard)/settings/plan/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(dashboard)/settings/plan/page",pathname:"/settings/plan",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},93328:(e,t,s)=>{Promise.resolve().then(s.bind(s,95089)),Promise.resolve().then(s.bind(s,16566)),Promise.resolve().then(s.bind(s,70223)),Promise.resolve().then(s.bind(s,7679))},74097:(e,t,s)=>{Promise.resolve().then(s.bind(s,67354)),Promise.resolve().then(s.bind(s,95089)),Promise.resolve().then(s.bind(s,16566)),Promise.resolve().then(s.bind(s,70223)),Promise.resolve().then(s.bind(s,7679))},44267:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},67354:(e,t,s)=>{"use strict";s.d(t,{PlanBadge:()=>ec});var r=s(10326),n=s(17577),a=s(567),i=s(93095),o=s(45226),l="Progress",[d,c]=(0,i.b)(l),[u,m]=d(l),p=n.forwardRef((e,t)=>{var s,n;let{__scopeProgress:a,value:i=null,max:l,getValueLabel:d=f,...c}=e;(l||0===l)&&!v(l)&&console.error((s=`${l}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=v(l)?l:100;null===i||b(i,m)||console.error((n=`${i}`,`Invalid prop \`value\` of value \`${n}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let p=b(i,m)?i:null,x=y(p)?d(p,m):void 0;return(0,r.jsx)(u,{scope:a,value:p,max:m,children:(0,r.jsx)(o.WV.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":y(p)?p:void 0,"aria-valuetext":x,role:"progressbar","data-state":g(p,m),"data-value":p??void 0,"data-max":m,...c,ref:t})})});p.displayName=l;var x="ProgressIndicator",h=n.forwardRef((e,t)=>{let{__scopeProgress:s,...n}=e,a=m(x,s);return(0,r.jsx)(o.WV.div,{"data-state":g(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});function f(e,t){return`${Math.round(e/t*100)}%`}function g(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function y(e){return"number"==typeof e}function v(e){return y(e)&&!isNaN(e)&&e>0}function b(e,t){return y(e)&&!isNaN(e)&&e<=t&&e>=0}h.displayName=x;var w=s(77863);let j=n.forwardRef(({className:e,value:t,indicatorClassName:s,...n},a)=>r.jsx(p,{ref:a,className:(0,w.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(h,{className:(0,w.cn)("h-full w-full flex-1 bg-primary transition-all",s),style:{transform:`translateX(-${100-(t||0)}%)`}})}));j.displayName=p.displayName;var N=s(82561),E=s(48051),R=s(825),k=s(88957),P=s(17103),_=(s(83078),s(9815)),T=s(34214),C=s(52067),S=s(6009),[A,M]=(0,i.b)("Tooltip",[P.D7]),I=(0,P.D7)(),z="TooltipProvider",L="tooltip.open",[q,O]=A(z),U=e=>{let{__scopeTooltip:t,delayDuration:s=700,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:o}=e,l=n.useRef(!0),d=n.useRef(!1),c=n.useRef(0);return n.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,r.jsx)(q,{scope:t,isOpenDelayedRef:l,delayDuration:s,onOpen:n.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:n.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:d,onPointerInTransitChange:n.useCallback(e=>{d.current=e},[]),disableHoverableContent:i,children:o})};U.displayName=z;var F="Tooltip",[Z,D]=A(F),B=e=>{let{__scopeTooltip:t,children:s,open:a,defaultOpen:i,onOpenChange:o,disableHoverableContent:l,delayDuration:d}=e,c=O(F,e.__scopeTooltip),u=I(t),[m,p]=n.useState(null),x=(0,k.M)(),h=n.useRef(0),f=l??c.disableHoverableContent,g=d??c.delayDuration,y=n.useRef(!1),[v,b]=(0,C.T)({prop:a,defaultProp:i??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(L))):c.onClose(),o?.(e)},caller:F}),w=n.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),j=n.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y.current=!1,b(!0)},[b]),N=n.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),E=n.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,b(!0),h.current=0},g)},[g,b]);return n.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),(0,r.jsx)(P.fC,{...u,children:(0,r.jsx)(Z,{scope:t,contentId:x,open:v,stateAttribute:w,trigger:m,onTriggerChange:p,onTriggerEnter:n.useCallback(()=>{c.isOpenDelayedRef.current?E():j()},[c.isOpenDelayedRef,E,j]),onTriggerLeave:n.useCallback(()=>{f?N():(window.clearTimeout(h.current),h.current=0)},[N,f]),onOpen:j,onClose:N,disableHoverableContent:f,children:s})})};B.displayName=F;var $="TooltipTrigger",Y=n.forwardRef((e,t)=>{let{__scopeTooltip:s,...a}=e,i=D($,s),l=O($,s),d=I(s),c=n.useRef(null),u=(0,E.e)(t,c,i.onTriggerChange),m=n.useRef(!1),p=n.useRef(!1),x=n.useCallback(()=>m.current=!1,[]);return n.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),(0,r.jsx)(P.ee,{asChild:!0,...d,children:(0,r.jsx)(o.WV.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:u,onPointerMove:(0,N.Mj)(e.onPointerMove,e=>{"touch"===e.pointerType||p.current||l.isPointerInTransitRef.current||(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:(0,N.Mj)(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:(0,N.Mj)(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:(0,N.Mj)(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:(0,N.Mj)(e.onBlur,i.onClose),onClick:(0,N.Mj)(e.onClick,i.onClose)})})});Y.displayName=$;var[H,G]=A("TooltipPortal",{forceMount:void 0}),V="TooltipContent",W=n.forwardRef((e,t)=>{let s=G(V,e.__scopeTooltip),{forceMount:n=s.forceMount,side:a="top",...i}=e,o=D(V,e.__scopeTooltip);return(0,r.jsx)(_.z,{present:n||o.open,children:o.disableHoverableContent?(0,r.jsx)(ee,{side:a,...i,ref:t}):(0,r.jsx)(X,{side:a,...i,ref:t})})}),X=n.forwardRef((e,t)=>{let s=D(V,e.__scopeTooltip),a=O(V,e.__scopeTooltip),i=n.useRef(null),o=(0,E.e)(t,i),[l,d]=n.useState(null),{trigger:c,onClose:u}=s,m=i.current,{onPointerInTransitChange:p}=a,x=n.useCallback(()=>{d(null),p(!1)},[p]),h=n.useCallback((e,t)=>{let s=e.currentTarget,r={x:e.clientX,y:e.clientY},n=function(e,t){let s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,r,n,a)){case a:return"left";case n:return"right";case s:return"top";case r:return"bottom";default:throw Error("unreachable")}}(r,s.getBoundingClientRect());d(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();let t=[];for(let s=0;s<e.length;s++){let r=e[s];for(;t.length>=2;){let e=t[t.length-1],s=t[t.length-2];if((e.x-s.x)*(r.y-s.y)>=(e.y-s.y)*(r.x-s.x))t.pop();else break}t.push(r)}t.pop();let s=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;s.length>=2;){let e=s[s.length-1],t=s[s.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))s.pop();else break}s.push(r)}return(s.pop(),1===t.length&&1===s.length&&t[0].x===s[0].x&&t[0].y===s[0].y)?t:t.concat(s)}(t)}([...function(e,t,s=5){let r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s})}return r}(r,n),...function(e){let{top:t,right:s,bottom:r,left:n}=e;return[{x:n,y:t},{x:s,y:t},{x:s,y:r},{x:n,y:r}]}(t.getBoundingClientRect())])),p(!0)},[p]);return n.useEffect(()=>()=>x(),[x]),n.useEffect(()=>{if(c&&m){let e=e=>h(e,m),t=e=>h(e,c);return c.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[c,m,h,x]),n.useEffect(()=>{if(l){let e=e=>{let t=e.target,s={x:e.clientX,y:e.clientY},r=c?.contains(t)||m?.contains(t),n=!function(e,t){let{x:s,y:r}=e,n=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let i=t[e],o=t[a],l=i.x,d=i.y,c=o.x,u=o.y;d>r!=u>r&&s<(c-l)*(r-d)/(u-d)+l&&(n=!n)}return n}(s,l);r?x():n&&(x(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,m,l,u,x]),(0,r.jsx)(ee,{...e,ref:o})}),[J,K]=A(F,{isInside:!1}),Q=(0,T.sA)("TooltipContent"),ee=n.forwardRef((e,t)=>{let{__scopeTooltip:s,children:a,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:l,...d}=e,c=D(V,s),u=I(s),{onClose:m}=c;return n.useEffect(()=>(document.addEventListener(L,m),()=>document.removeEventListener(L,m)),[m]),n.useEffect(()=>{if(c.trigger){let e=e=>{let t=e.target;t?.contains(c.trigger)&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,m]),(0,r.jsx)(R.XB,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,r.jsxs)(P.VY,{"data-state":c.stateAttribute,...u,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,r.jsx)(Q,{children:a}),(0,r.jsx)(J,{scope:s,isInside:!0,children:(0,r.jsx)(S.fC,{id:c.contentId,role:"tooltip",children:i||a})})]})})});W.displayName=V;var et="TooltipArrow";n.forwardRef((e,t)=>{let{__scopeTooltip:s,...n}=e,a=I(s);return K(et,s).isInside?null:(0,r.jsx)(P.Eh,{...a,...n,ref:t})}).displayName=et;let es=n.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(W,{ref:n,sideOffset:t,className:(0,w.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));es.displayName=W.displayName;var er=s(53524);globalThis.prisma??new er.PrismaClient({log:["query"]});let en={FREE:{features:["basic_automations","email_notifications","community_support"]},PRO:{features:["basic_automations","advanced_triggers","webhooks","email_notifications","slack_integration","priority_support","analytics_basic"]},TEAM:{features:["basic_automations","advanced_triggers","webhooks","email_notifications","slack_integration","team_collaboration","user_management","priority_support","analytics_advanced","custom_branding"]},ENTERPRISE:{features:["basic_automations","advanced_triggers","webhooks","email_notifications","slack_integration","team_collaboration","user_management","code_steps","custom_integrations","sso","audit_logs","dedicated_support","analytics_enterprise","custom_branding","sla_guarantee"]}},ea={FREE:{monthlyRuns:100,workflows:3,actionsAllowed:5,codeSteps:!1},PRO:{monthlyRuns:1e4,workflows:50,actionsAllowed:20,codeSteps:!1},TEAM:{monthlyRuns:5e4,workflows:200,actionsAllowed:50,codeSteps:!0},ENTERPRISE:{monthlyRuns:5e5,workflows:1e3,actionsAllowed:100,codeSteps:!0}},ei={FREE:{key:"FREE",name:"Free",description:"Perfect for getting started with automation",price:{monthly:0,yearly:0},features:en.FREE.features,limits:ea.FREE},PRO:{key:"PRO",name:"Pro",description:"For individuals and small teams",price:{monthly:29,yearly:290},features:en.PRO.features,limits:ea.PRO,popular:!0},TEAM:{key:"TEAM",name:"Team",description:"For growing teams and businesses",price:{monthly:99,yearly:990},features:en.TEAM.features,limits:ea.TEAM},ENTERPRISE:{key:"ENTERPRISE",name:"Enterprise",description:"For large organizations with advanced needs",price:{monthly:299,yearly:2990},features:en.ENTERPRISE.features,limits:ea.ENTERPRISE}};function eo(e,t){return 0===t?0:Math.min(Math.round(e/t*100),100)}let el={FREE:"bg-gray-100 text-gray-800 border-gray-300",PRO:"bg-blue-100 text-blue-800 border-blue-300",TEAM:"bg-purple-100 text-purple-800 border-purple-300",ENTERPRISE:"bg-amber-100 text-amber-800 border-amber-300"},ed={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};function ec({plan:e,monthlyRunsUsed:t=0,monthlyRunsLimit:s=0,className:n,showUsage:i=!1,size:o="md"}){let l=ei[e],d=eo(t,s),c=function(e,t,s=80){return eo(e,t)>=s}(t,s),u=(0,r.jsxs)("div",{className:(0,w.cn)("flex items-center gap-2",n),children:[r.jsx(a.C,{variant:"outline",className:(0,w.cn)(el[e],ed[o],"font-medium border"),children:l.name}),i&&s>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,r.jsxs)("div",{className:"hidden sm:flex items-center gap-1 text-sm text-muted-foreground",children:[r.jsx("span",{children:t.toLocaleString()}),r.jsx("span",{children:"/"}),r.jsx("span",{children:s.toLocaleString()})]}),r.jsx("div",{className:"w-16 sm:w-20",children:r.jsx(j,{value:d,className:(0,w.cn)("h-2",c&&"bg-red-100"),indicatorClassName:(0,w.cn)(c&&"bg-red-500"),"aria-label":`Usage: ${d}%`})})]})]});return i&&0!==s?r.jsx(U,{children:(0,r.jsxs)(B,{children:[r.jsx(Y,{asChild:!0,children:r.jsx("div",{className:"cursor-help",children:u})}),r.jsx(es,{side:"bottom",className:"max-w-sm",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"font-medium",children:[l.name," Plan"]}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Monthly Runs:"}),(0,r.jsxs)("span",{className:(0,w.cn)(c&&"text-red-500 font-medium"),children:[t.toLocaleString()," / ",s.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Usage:"}),(0,r.jsxs)("span",{className:(0,w.cn)(c&&"text-red-500 font-medium"),children:[d,"%"]})]}),c&&r.jsx("div",{className:"text-red-500 text-xs font-medium mt-2",children:"⚠️ Approaching limit"})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground border-t pt-2",children:["Plan Features:",(0,r.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-0.5",children:[(0,r.jsxs)("li",{children:["Up to ",l.limits.workflows," workflows"]}),(0,r.jsxs)("li",{children:["Up to ",l.limits.actionsAllowed," actions per workflow"]}),(0,r.jsxs)("li",{children:[l.limits.monthlyRuns.toLocaleString()," monthly runs"]}),l.limits.codeSteps&&r.jsx("li",{children:"Code steps included"})]})]})]})})]})}):u}},567:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});var r=s(10326);s(17577);var n=s(79360),a=s(77863);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...s}){return r.jsx("div",{className:(0,a.cn)(i({variant:t}),e),...s})}},77863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var r=s(41135),n=s(31009);function a(...e){return(0,n.m6)((0,r.W)(e))}},20426:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(19510),n=s(71159),a=s(46697),i=s(2946),o=s(50650);function l({className:e,...t}){return r.jsx("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",e),...t})}let d=(0,s(68570).createProxy)(String.raw`/Users/ediyaffe/Documents/GitHub/Arizu/components/PlanBadge.tsx#PlanBadge`);var c=s(96471),u=s(58585),m=s(9487);let p={member:1,admin:2,owner:3};async function x(e="member"){let{userId:t,orgId:s}=(0,c.I8)(),r=await (0,c.ar)();t&&r||(0,u.redirect)("/sign-in"),s||(0,u.redirect)("/app/create-organization");let n=await m.db.user.findUnique({where:{clerkId:t}});n||(0,u.redirect)("/sign-in");let a=await m.db.organization.findUnique({where:{clerkId:s}});if(!a)throw Error("Organization not found");let i=await m.db.organizationMember.findUnique({where:{userId_orgId:{userId:t,orgId:s}}});if(i||(0,u.redirect)("/app/create-organization"),!((p[i.role]||0)>=p[e]))throw Error("Insufficient permissions");return{userId:t,orgId:s,role:i.role,user:n,organization:a,membership:i}}var h=s(17081),f=s(26359),g=s(27162);let y=(0,g.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),v=(0,g.Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),b=(0,g.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),w=(0,g.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),j=(0,g.Z)("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);async function N({orgId:e}){try{let[t,s]=await Promise.all([(0,h.QJ)(e),(0,h.S0)(e)]),n=h.Nv[t],o=(0,h.qL)(t),l=o?h.Nv[o]:null;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(a.Zb,{children:[r.jsx(a.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(a.ll,{className:"flex items-center gap-3",children:["Current Plan",r.jsx(d,{plan:t,monthlyRunsUsed:s.monthlyRunsUsed,monthlyRunsLimit:s.monthlyRunsLimit,showUsage:!0})]}),r.jsx(a.SZ,{children:n.description})]}),l&&(0,r.jsxs)(i.z,{size:"lg",className:"gap-2",children:[r.jsx(f.Z,{className:"h-4 w-4"}),"Upgrade to ",l.name,r.jsx(y,{className:"h-4 w-4"})]})]})}),r.jsx(a.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Usage This Month"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm",children:"Automation Runs"}),(0,r.jsxs)("span",{className:"font-mono text-sm",children:[s.monthlyRunsUsed.toLocaleString()," / ",s.monthlyRunsLimit.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm",children:"Active Workflows"}),(0,r.jsxs)("span",{className:"font-mono text-sm",children:[s.workflowsCount," / ",s.workflowsLimit]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Plan Limits"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(v,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsxs)("span",{children:["Up to ",n.limits.monthlyRuns.toLocaleString()," runs/month"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(b,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsxs)("span",{children:["Up to ",n.limits.workflows," workflows"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(w,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsxs)("span",{children:["Up to ",n.limits.actionsAllowed," actions per workflow"]})]}),n.limits.codeSteps&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(j,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:"Code steps included"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Included Features"}),(0,r.jsxs)("div",{className:"space-y-2",children:[n.features.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"h-1.5 w-1.5 bg-green-500 rounded-full"}),r.jsx("span",{className:"capitalize",children:e.replace(/_/g," ")})]},e)),n.features.length>5&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+",n.features.length-5," more features"]})]})]})]})})]}),l&&(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsxs)(a.ll,{children:["Upgrade to ",l.name]}),(0,r.jsxs)(a.SZ,{children:["Get more automation power with ",l.description.toLowerCase()]})]}),r.jsx(a.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"What you'll get:"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"h-1.5 w-1.5 bg-blue-500 rounded-full"}),(0,r.jsxs)("span",{children:[l.limits.monthlyRuns.toLocaleString()," monthly runs"]}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(+",(l.limits.monthlyRuns-n.limits.monthlyRuns).toLocaleString(),")"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"h-1.5 w-1.5 bg-blue-500 rounded-full"}),(0,r.jsxs)("span",{children:[l.limits.workflows," workflows"]}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(+",l.limits.workflows-n.limits.workflows,")"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"h-1.5 w-1.5 bg-blue-500 rounded-full"}),(0,r.jsxs)("span",{children:[l.limits.actionsAllowed," actions per workflow"]}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(+",l.limits.actionsAllowed-n.limits.actionsAllowed,")"]})]}),l.limits.codeSteps&&!n.limits.codeSteps&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"h-1.5 w-1.5 bg-blue-500 rounded-full"}),r.jsx("span",{children:"Code steps"}),r.jsx("span",{className:"text-xs text-green-600 font-medium",children:"NEW"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold",children:["$",l.price.monthly,r.jsx("span",{className:"text-base font-normal text-muted-foreground",children:"/month"})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["or $",l.price.yearly,"/year (save $",12*l.price.monthly-l.price.yearly,")"]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)(i.z,{size:"lg",className:"w-full gap-2",children:[r.jsx(f.Z,{className:"h-4 w-4"}),"Upgrade Now",r.jsx(y,{className:"h-4 w-4"})]}),r.jsx(i.z,{variant:"outline",size:"sm",className:"w-full",children:"Compare All Plans"})]})]})]})})]}),"FREE"!==t&&(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[r.jsx(a.ll,{children:"Billing"}),r.jsx(a.SZ,{children:"Manage your subscription and billing information"})]}),r.jsx(a.aY,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"text-sm font-medium",children:["Current subscription: ",n.name," Plan"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Next billing date: January 1, 2024"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(i.z,{variant:"outline",size:"sm",children:"Manage Billing"}),r.jsx(i.z,{variant:"outline",size:"sm",children:"View Invoices"})]})]})})]})]})}catch(e){return console.error("Error loading plan page:",e),r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[r.jsx(a.ll,{children:"Unable to Load Plan Information"}),r.jsx(a.SZ,{children:"There was an error loading your plan details. Please try refreshing the page."})]}),r.jsx(a.aY,{children:r.jsx(i.z,{variant:"outline",children:"Refresh Page"})})]})})}}function E(){return r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)(a.Zb,{children:[r.jsx(a.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(l,{className:"h-6 w-32"}),r.jsx(l,{className:"h-4 w-64"})]}),r.jsx(l,{className:"h-10 w-32"})]})}),r.jsx(a.aY,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((e,t)=>(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(l,{className:"h-4 w-24"}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(l,{className:"h-4 w-full"}),r.jsx(l,{className:"h-4 w-full"}),r.jsx(l,{className:"h-4 w-3/4"})]})]},t))})})]})})}async function R(){try{let{orgId:e}=await x("member");return r.jsx("div",{className:"container max-w-6xl py-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Plan & Billing"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription, view usage, and upgrade your plan."})]}),r.jsx(n.Suspense,{fallback:r.jsx(E,{}),children:r.jsx(N,{orgId:e})})]})})}catch(e){return r.jsx("div",{className:"container max-w-6xl py-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Plan & Billing"}),r.jsx("p",{className:"text-muted-foreground",children:"Unable to load plan information."})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[r.jsx(a.ll,{children:"Access Required"}),r.jsx(a.SZ,{children:"You need to be a member of an organization to view plan information."})]}),r.jsx(a.aY,{children:r.jsx(i.z,{variant:"outline",children:"Join or Create Organization"})})]})]})})}}},11506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>l});var r=s(19510),n=s(85384),a=s.n(n),i=s(96471),o=s(8349);s(67272);let l={title:"Arizu - Natural Language Automations",description:"Turn natural language requests into working automations"};function d({children:e}){return r.jsx(i.El,{appearance:{baseTheme:o.dark,variables:{colorPrimary:"hsl(221.2 83.2% 53.3%)",colorBackground:"hsl(222.2 84% 4.9%)",colorInputBackground:"hsl(217.2 32.6% 17.5%)",colorInputText:"hsl(210 40% 98%)"}},children:r.jsx("html",{lang:"en",children:r.jsx("body",{className:a().className,children:e})})})}},2946:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var r=s(19510),n=s(71159),a=s(43025),i=s(46145),o=s(50650);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...i},d)=>{let c=n?a.g7:"button";return r.jsx(c,{className:(0,o.cn)(l({variant:t,size:s,className:e})),ref:d,...i})});d.displayName="Button"},46697:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>l});var r=s(19510),n=s(71159),a=s(50650);let i=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=n.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=n.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},9487:(e,t,s)=>{"use strict";s.d(t,{db:()=>n});var r=s(53524);let n=globalThis.prisma??new r.PrismaClient({log:["query"]})},17081:(e,t,s)=>{"use strict";s.d(t,{Nv:()=>i,QJ:()=>o,S0:()=>d,fE:()=>m,qL:()=>p});var r=s(9487);let n={FREE:{features:["basic_automations","email_notifications","community_support"]},PRO:{features:["basic_automations","advanced_triggers","webhooks","email_notifications","slack_integration","priority_support","analytics_basic"]},TEAM:{features:["basic_automations","advanced_triggers","webhooks","email_notifications","slack_integration","team_collaboration","user_management","priority_support","analytics_advanced","custom_branding"]},ENTERPRISE:{features:["basic_automations","advanced_triggers","webhooks","email_notifications","slack_integration","team_collaboration","user_management","code_steps","custom_integrations","sso","audit_logs","dedicated_support","analytics_enterprise","custom_branding","sla_guarantee"]}},a={FREE:{monthlyRuns:100,workflows:3,actionsAllowed:5,codeSteps:!1},PRO:{monthlyRuns:1e4,workflows:50,actionsAllowed:20,codeSteps:!1},TEAM:{monthlyRuns:5e4,workflows:200,actionsAllowed:50,codeSteps:!0},ENTERPRISE:{monthlyRuns:5e5,workflows:1e3,actionsAllowed:100,codeSteps:!0}},i={FREE:{key:"FREE",name:"Free",description:"Perfect for getting started with automation",price:{monthly:0,yearly:0},features:n.FREE.features,limits:a.FREE},PRO:{key:"PRO",name:"Pro",description:"For individuals and small teams",price:{monthly:29,yearly:290},features:n.PRO.features,limits:a.PRO,popular:!0},TEAM:{key:"TEAM",name:"Team",description:"For growing teams and businesses",price:{monthly:99,yearly:990},features:n.TEAM.features,limits:a.TEAM},ENTERPRISE:{key:"ENTERPRISE",name:"Enterprise",description:"For large organizations with advanced needs",price:{monthly:299,yearly:2990},features:n.ENTERPRISE.features,limits:a.ENTERPRISE}};async function o(e){try{let t=await r.db.organization.findUnique({where:{clerkId:e},select:{planType:!0}});if(!t)throw Error(`Organization not found: ${e}`);return function(e){switch(e){case"FREE":default:return"FREE";case"PRO":case"STARTER":return"PRO";case"ENTERPRISE":return"ENTERPRISE"}}(t.planType)}catch(t){return console.error("Error getting plan for organization:",{orgId:e.slice(0,8)+"...",error:t instanceof Error?t.message:"Unknown error"}),"FREE"}}function l(){let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}async function d(e){try{let[t,s,r]=await Promise.all([o(e),c(e),u(e)]),n=a[t];return{monthlyRunsUsed:s.monthlyRunsUsed,monthlyRunsLimit:n.monthlyRuns,workflowsCount:r,workflowsLimit:n.workflows,actionsLimit:n.actionsAllowed,hasCodeSteps:n.codeSteps}}catch(t){return console.error("Error getting current usage:",{orgId:e.slice(0,8)+"...",error:t instanceof Error?t.message:"Unknown error"}),{monthlyRunsUsed:0,monthlyRunsLimit:0,workflowsCount:0,workflowsLimit:0,actionsLimit:0,hasCodeSteps:!1}}}async function c(e){let t=l();return await r.db.usageCounter.upsert({where:{organizationId_periodKey:{organizationId:e,periodKey:t}},update:{},create:{organizationId:e,periodKey:t,monthlyRunsUsed:0,monthlyRunsLimit:0,workflowsCount:0}})}async function u(e){return await r.db.automation.count({where:{organizationId:e,isActive:!0}})}async function m(e,t=1){let s=l();await r.db.usageCounter.upsert({where:{organizationId_periodKey:{organizationId:e,periodKey:s}},update:{monthlyRunsUsed:{increment:t}},create:{organizationId:e,periodKey:s,monthlyRunsUsed:t,monthlyRunsLimit:0,workflowsCount:0}})}function p(e){let t=["FREE","PRO","TEAM","ENTERPRISE"],s=t.indexOf(e);return -1===s||s===t.length-1?null:t[s+1]}},50650:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var r=s(55761),n=s(62386);function a(...e){return(0,n.m6)((0,r.W)(e))}},67272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,70,471,623,624,325,111],()=>s(48325));module.exports=r})();